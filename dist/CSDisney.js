(()=>{const e=document.createElement("div");e.textContent="Disney+",e.style.cssText="\n  position: fixed;\n  z-index: 999999;\n  top: 12px;\n  right: 12px;\n  padding: 6px 10px;\n  border-radius: 8px;\n  background: rgba(0,0,0,0.75);\n  color: white;\n  font: 12px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial;\n",document.documentElement.appendChild(e),setTimeout(()=>e.remove(),2e3);const n="my-imdb-rating-extension-badge";let t;function o(){const e=document.querySelector('[data-testid="details-tab-title"]'),n=e?.textContent?.trim();return n&&n.length>0?n:null}function i(e){const t=function(){const e=document.querySelector("._1aa1a522");if(!e)return null;let t=document.getElementById(n);return t||(t=document.createElement("div"),t.id=n,t.style.cssText='\n    height: 1.25rem;\n  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,\n               "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans",\n               sans-serif, "Apple Color Emoji", "Segoe UI Emoji",\n               "Segoe UI Symbol", "Noto Color Emoji";\n  font-weight: 500;\n  color: #ffffff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgb(55, 65, 81);\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  border-radius: 0.25rem;\n  font-size:12px;\n    ',e.appendChild(t)),t}();t&&(t.textContent=e)}chrome.storage.sync.get("apiKey",e=>{t=e.apiKey}),(async()=>{let e=o();(async()=>{new MutationObserver(async()=>{const n=o();if(n!==e){e=n;const o=await async function(e){if(!t)return null;if(!e)return null;try{const n=await fetch(`https://www.omdbapi.com/?t=${encodeURIComponent(e)}&apikey=${t}`);if(!n.ok)return null;const o=await n.json();return"False"===o?.Response?null:(console.log(o),o)}catch{return null}}(n);o?.imdbRating||i("No IMDb"),"N/A"===o?.imdbRating&&i("No IMDb"),i(`IMDb ${o.imdbRating}`)}}).observe(document.documentElement,{childList:!0,subtree:!0,characterData:!0})})()})()})();