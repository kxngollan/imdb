(()=>{const e=document.createElement("div");e.textContent="Disney+",e.style.cssText="\n  position: fixed;\n  z-index: 999999;\n  top: 12px;\n  right: 12px;\n  padding: 6px 10px;\n  border-radius: 8px;\n  background: rgba(0,0,0,0.75);\n  color: white;\n  font: 12px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial;\n",document.documentElement.appendChild(e),setTimeout(()=>e.remove(),2e3);const t="my-imdb-rating-extension-badge";let n;function o(){const e=document.querySelector('[data-testid="details-tab-title"]'),t=e?.textContent?.trim();return t&&t.length>0?t:null}function i(e){const o=function(){const e=document.querySelector("._1aa1a522");if(!e)return null;let n=document.getElementById(t);return n||(n=document.createElement("div"),n.id=t,n.style.cssText='\n    height: 1.25rem;\n  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,\n               "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans",\n               sans-serif, "Apple Color Emoji", "Segoe UI Emoji",\n               "Segoe UI Symbol", "Noto Color Emoji";\n  font-weight: 500;\n  color: #ffffff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgb(55, 65, 81);\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  border-radius: 0.25rem;\n  font-size:12px;\n    ',e&&e.appendChild(n)),n}();o&&(o.textContent=n?e:"")}chrome.storage.sync.get("apiKey",e=>{n=e.apiKey}),(async()=>{let e=o();(async()=>{new MutationObserver(async()=>{const t=o();if(t!==e){e=t;const o=await async function(e){if(!n)return null;if(!e)return null;try{const t=await fetch(`https://www.omdbapi.com/?t=${encodeURIComponent(e)}&apikey=${n}`);if(!t.ok)return null;const o=await t.json();return"False"===o?.Response?null:o}catch{return null}}(t);o?.imdbRating||i("No IMDb"),"N/A"===o?.imdbRating&&i("No IMDb"),i(`IMDb ${o.imdbRating}`)}}).observe(document.documentElement,{childList:!0,subtree:!0,characterData:!0})})()})()})();